<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • magrittr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.5/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://magrittr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="magrittr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">magrittr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/magrittr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/tradeoffs.html">Design tradeoffs</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/11/magrittr-2-0-is-here/">Version 2.0.0</a>
    <a class="external-link dropdown-item" href="https://blog.rstudio.com/2014/12/01/magrittr-1-5/">Version 1.5.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverse/magrittr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/tidyverse/magrittr/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="magrittr-development-version">magrittr (development version)<a class="anchor" aria-label="anchor" href="#magrittr-development-version"></a></h2>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.3" id="magrittr-203">magrittr 2.0.3<a class="anchor" aria-label="anchor" href="#magrittr-203"></a></h2><p class="text-muted">CRAN release: 2022-03-30</p>
<ul><li>Fixed a C level protection issue in <code>%&gt;%</code> (<a href="https://github.com/tidyverse/magrittr/issues/256" class="external-link">#256</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.2" id="magrittr-202">magrittr 2.0.2<a class="anchor" aria-label="anchor" href="#magrittr-202"></a></h2><p class="text-muted">CRAN release: 2022-01-26</p>
<ul><li><p>New eager pipe <code>%!&gt;%</code> for sequential evaluation (<a href="https://github.com/tidyverse/magrittr/issues/247" class="external-link">#247</a>). Consider using <code><a href="https://rdrr.io/r/base/force.html" class="external-link">force()</a></code> in your functions instead to make them strict, if sequentiality is required. See the examples in <code><a href="../reference/pipe-eager.html">?"pipe-eager"</a></code>.</p></li>
<li><p>Fixed an issue that could cause pipe invocations to fail in versions of R built with <code>--enable-strict-barrier</code>. (<a href="https://github.com/tidyverse/magrittr/issues/239" class="external-link">#239</a>, <a href="https://github.com/kevinushey" class="external-link">@kevinushey</a>)</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.1" id="magrittr-201">magrittr 2.0.1<a class="anchor" aria-label="anchor" href="#magrittr-201"></a></h2><p class="text-muted">CRAN release: 2020-11-17</p>
<ul><li><p>Fixed issue caused by objects with certain names being present in the calling environment (<a href="https://github.com/tidyverse/magrittr/issues/233" class="external-link">#233</a>).</p></li>
<li><p>Fixed regression in <code><a href="../reference/freduce.html">freduce()</a></code> with long lists (kcf-jackson/sketch#5).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="magrittr-200">magrittr 2.0.0<a class="anchor" aria-label="anchor" href="#magrittr-200"></a></h2>
<div class="section level3">
<h3 id="fast-and-lean-implementation-of-the-pipe-2-0-0">Fast and lean implementation of the pipe<a class="anchor" aria-label="anchor" href="#fast-and-lean-implementation-of-the-pipe-2-0-0"></a></h3>
<p>The pipe has been rewritten in C with the following goals in mind:</p>
<ul><li>Minimal performance cost.</li>
<li>Minimal impact on backtraces.</li>
<li>No impact on reference counts.</li>
</ul><p>As part of this rewrite we have changed the behaviour of the pipe to make it closer to the implementation that will likely be included in a future version of R. The pipe now evaluates piped expressions lazily (<a href="https://github.com/tidyverse/magrittr/issues/120" class="external-link">#120</a>). The main consequence of this change is that warnings and errors can now be handled by trailing pipe calls:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"foo"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">"bar"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="breaking-changes-2-0-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-0-0"></a></h3>
<p>The pipe rewrite should generally not affect your code. We have checked magrittr on 2800 CRAN packages and found only a dozen of failures. The development version of magrittr has been advertised on social media for a 3 months trial period, and no major issues were reported. However, there are some corner cases that might require updating your code. Below is a report of the backward incompatibilities we found in real code to help you transition, should you find an issue in your code.</p>
<div class="section level4">
<h4 id="behaviour-of-return-in-a-pipeline-2-0-0">Behaviour of <code>return()</code> in a pipeline<a class="anchor" aria-label="anchor" href="#behaviour-of-return-in-a-pipeline-2-0-0"></a></h4>
<p>In previous versions of magrittr, the behaviour of <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> within pipe expressions was undefined. Should it return from the current pipe expression, from the whole pipeline, or from the enclosing function? The behaviour that makes the most sense is to return from the enclosing function. However, we can’t make this work easily with the new implementation, and so calling <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> is now an error.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="st">"true"</span><span class="op">)</span></span>
<span>    <span class="st">"false"</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">my_function</span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: no function to return from, jumping to top level</span></span></code></pre></div>
<p>In magrittr 1.5, <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> used to return from the current pipe expression. You can rewrite this to the equivalent:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="st">"true"</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="st">"false"</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">my_function</span><span class="op">(</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "true"</span></span></code></pre></div>
<p>For backward-compatibility we have special-cased trailing <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> calls as this is a common occurrence in packages:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fl">1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Note however that this only returns from the pipeline, not the enclosing function (which is the historical behaviour):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="st">"value"</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="st">"wrong value"</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">my_function</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "wrong value"</span></span></code></pre></div>
<p>It is generally best to avoid using <code><a href="https://rdrr.io/r/base/function.html" class="external-link">return()</a></code> in a pipeline, even if trailing.</p>
</div>
<div class="section level4">
<h4 id="failures-caused-by-laziness-2-0-0">Failures caused by laziness<a class="anchor" aria-label="anchor" href="#failures-caused-by-laziness-2-0-0"></a></h4>
<p>With the new lazy model for the evaluation of pipe expressions, earlier parts of a pipeline are not yet evaluated when the last pipe expression is called. They only get evaluated when the last function actually uses the piped arguments:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">ignore</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="st">"return value"</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"never called"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">ignore</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "return value"</span></span></code></pre></div>
<p>This should generally not cause problems. However we found some functions with special behaviour, written under the assumption that earlier parts of the pipeline were already evaluated and had already produced side effects. This is generally incorrect behaviour because that means that these functions do not work properly when called with the nested form, e.g. <code>f(g(1))</code> instead of <code>1 %&gt;% g() %&gt;% f()</code>.</p>
<p>The solution to fix this is to call <code><a href="https://rdrr.io/r/base/force.html" class="external-link">force()</a></code> on the inputs to force evaluation, and only then check for side effects:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/force.html" class="external-link">force</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span>  <span class="fu">peek_side_effect</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Another issue caused by laziness is that if any function in a pipeline returns invisibly, than the whole pipeline returns invisibly as well.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fl">1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fl">1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fl">1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This is consistent with the equivalent nested code. This behaviour can be worked around in two ways. You can force visibility by wrapping the pipeline in parentheses:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="op">(</span><span class="va">x</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Or by assigning the result to a variable and return it:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">my_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/identity.html" class="external-link">identity</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">out</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="incorrect-call-stack-introspection-2-0-0">Incorrect call stack introspection<a class="anchor" aria-label="anchor" href="#incorrect-call-stack-introspection-2-0-0"></a></h4>
<p>The magrittr expressions are no longer evaluated in frames that can be inspected by <code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">sys.frames()</a></code> or <code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">sys.parent()</a></code>. Using these functions for implementing actual functionality (as opposed as debugging tools) is likely to produce bugs. Instead, you should generally use <code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame()</a></code> which works even when R code is called from non-inspectable frames. This happens with e.g. <code><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call()</a></code> and the new C implementation of magrittr.</p>
</div>
<div class="section level4">
<h4 id="incorrect-assumptions-about-magrittr-internals-2-0-0">Incorrect assumptions about magrittr internals<a class="anchor" aria-label="anchor" href="#incorrect-assumptions-about-magrittr-internals-2-0-0"></a></h4>
<p>Some packages were depending on how magrittr was internally structured. Robust code should only use the documented and exported API of other packages.</p>
</div>
</div>
<div class="section level3">
<h3 id="bug-fixes-2-0-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-2-0-0"></a></h3>
<ul><li><p>Can now use the placeholder <code>.</code> with the splicing operator <code>!!!</code> from rlang (<a href="https://github.com/tidyverse/magrittr/issues/191" class="external-link">#191</a>).</p></li>
<li><p>Piped arguments are now persistent. They can be evaluated after the pipeline has returned, which fixes subtle issues with function factories (<a href="https://github.com/tidyverse/magrittr/issues/159" class="external-link">#159</a>, <a href="https://github.com/tidyverse/magrittr/issues/195" class="external-link">#195</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5" id="magrittr-15">magrittr 1.5<a class="anchor" aria-label="anchor" href="#magrittr-15"></a></h2><p class="text-muted">CRAN release: 2014-11-22</p>
<div class="section level3">
<h3 id="new-features-1-5">New features<a class="anchor" aria-label="anchor" href="#new-features-1-5"></a></h3>
<div class="section level4">
<h4 id="functional-sequences-1-5">Functional sequences.<a class="anchor" aria-label="anchor" href="#functional-sequences-1-5"></a></h4>
<p>A pipeline, or a “functional sequence”, need not be applied to a left-hand side value instantly. Instead it can serve as a function definition. A pipeline where the left-most left-hand side is the magrittr placeholder (the dot <code>.</code>) will thus create a function, which applies each right-hand side in sequence to its argument, e.g. <code>f &lt;- . %&gt;% abs %&gt;% mean(na.rm = TRUE)</code>.</p>
</div>
<div class="section level4">
<h4 id="new-operators-1-5">New operators<a class="anchor" aria-label="anchor" href="#new-operators-1-5"></a></h4>
<p>Three new operators are introduced for some special cases</p>
<ul><li>Assignment pipe: <code>%&lt;&gt;%</code>
</li>
<li>Tee pipe: <code>%T&gt;%</code>
</li>
<li>Exposition pipe: <code>%$%</code>
</li>
</ul><p>For more information see the documentation, e.g. <code>?%T&gt;%</code>.</p>
</div>
<div class="section level4">
<h4 id="lambdas-1-5">Lambdas<a class="anchor" aria-label="anchor" href="#lambdas-1-5"></a></h4>
<p>Lambdas can now be made by enclosing several statements in curly braces, and is a unary function of the dot argument.</p>
<p>For more information and examples, see the updated vignette, and help files.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://stefanbache.dk" class="external-link">Stefan Milton Bache</a>, <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer></body></html>

